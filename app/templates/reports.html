{% extends 'base/base.html' %}

{% block header %}
<script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js" defer></script>
{% endblock %}

{% block content %}
<div class="container">
    <br>
    <div class="column" style="display: flex;">
        <h3 class="title is-3">Reports</h3>
        <span style="margin-left: 20px;" class="icon has-text-info">
            <a class="button is-info is-rounded is-small" onclick="tutorial('reports');">
                <i class="fas fa-info-circle"></i>
            </a>
        </span>
    </div>
    <div class="box">
        <form>
            <label class="label" for="selectCompany">Company: </label>
            <div hx-target="#selectCompany" class="select" hx-get="/company/list" hx-trigger="load" hx-swap="innerHTML">
                <select id="selectCompany" name="idCompany" x-model="idCompany" required>
                </select>
            </div>
            <label class="label" for="dateStart">Start Date</label>
            <input class="input" id="dateStart" name="dateStart" type="date" required>
            <label class="label" for="dateEnd">End Date</label>
            <input class="input" id="dateEnd" name="dateEnd" type="date" required>
            <hr>

            <div align="right">
                <button id="reportButton" hx-include="closest form"  class="button is-info" hx-target="#reportGenerated" hx-post="/reports" data-loading-class="is-loading">Get Report</button>
            </div>
        </form>
        
    </div>
    <div class="column">
        <h4 class="title is-4">Report for {{current_user.name}} ({{current_user.userIdentification}})</h4>
    </div>
    <div class="box" id="reportGenerated">
    </div>



</div>
{% endblock %}